{% extends "core/base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col">
        <h1>Settings</h1>
        <p class="text-muted">Configure your AI provider settings.</p>
    </div>
    <div class="col-auto d-flex align-items-end">
        <button type="submit" form="config-form" class="btn btn-dark">Save Configuration</button>
    </div>
</div>

<form method="post" id="config-form">
    {% csrf_token %}
    
    <div class="row">
        <div class="col-lg-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">AI Provider</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="{{ form.ai_provider.id_for_label }}" class="form-label">{{ form.ai_provider.label }}</label>
                        {{ form.ai_provider }}
                        <small class="text-muted d-block mt-1">Select which AI provider to use for recipe extraction.</small>
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.api_key.id_for_label }}" class="form-label">{{ form.api_key.label }}</label>
                        {{ form.api_key }}
                        <small class="text-muted d-block mt-1">Enter the API key for the selected provider.</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Extraction Settings</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="{{ form.extraction_rate_limit_per_minute.id_for_label }}" class="form-label">{{ form.extraction_rate_limit_per_minute.label }}</label>
                        {{ form.extraction_rate_limit_per_minute }}
                        <small class="text-muted d-block mt-1">Maximum number of AI requests per minute.</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock %}
